\subsection{Trigger}
\label{sec:reco-el-triggers}

Events containing electrons are triggered on using ATLAS's three level trigger
system as described in~\sec{detector-trigger}. They are triggered on at L1 by
requiring two adjacent towers of calorimeter cells of size
\deltaetadeltaphi{0.1}{0.1} have an energy above a certain threshold. The towers
are used to identify a RoI for use at L2. At L2 fast calorimeter and tracking
algorithms are used. The calorimeter clustering uses a similar algorithm to in
the offline reconstruction as described in~\sec{reco-el-reco}, except that the
highest \et\ cell in the middle calorimeter layer of the RoI is used as a seed
rather than using a sliding window algorithm. Basic shower shape cuts on
the width of the shower in $\eta$ and the ratio of energy deposits in the
different calorimeter layers are
used to reject backgrounds. The EF uses the offline reconstruction and
identification algorithms described in~\sec{reco-el-reco}
and~\sec{reco-el-id}, although slightly looser cuts are applied to remain fully
efficient offline. 
%It uses some information from just outside the RoI.

The bandwidth dedicated to electron and photon triggers is approximately 30\% of the
total EF bandwidth. As instantaneous luminosity increased throughout 2011 and
2012 it was necessary to regularly tighten the triggers to keep the bandwidth at
an acceptable level~\cite{Monticelli:1450947}. At the start of 2011 the primary single electron trigger
has a threshold of 20 \gev. When the instantaneous luminosity exceeded
2\timestenpower{33}~\instlumiunit\ the threshold was increased to 22 \gev, and as
the luminosity further increased to 3\timestenpower{33}~\instlumiunit, the identification
requirements used at L2 and EF were tightened. The L1 thresholds were also
brought closer to the EF threshold, and varying L1 thresholds with $\eta$ were
introduced to account for varying material before the calorimeter. A hadronic
leakage cut was also introduced to further reduce the L1 rate. In 2012 the
threshold was further raised to 24 \gev, and a track isolation cut introduced at
EF, requiring that the total \pt\ of tracks surrounding the
electron's track in a cone of \deltaRlt{0.2} to have less than 10\% of the \pt\ of
the electron.

\subsection{Reconstruction}
\label{sec:reco-el-reco}

Electrons are reconstructed in the central region (\modetalt{2.5}) by searching
for EM calorimeter clusters and matching them to Inner Detector
tracks~\cite{ATL-PHYS-PUB-2011-006,Aad:2011mk}; this is
referred to as the \intro{standard} electron algorithm and is described below.
In the forward regions (\modetabetween{2.5}{4.9}) there is no Inner Detector
tracking, and electrons are reconstructed solely from calorimeter clusters; this
is also described below. The standard algorithm drops in efficiency at very
low \pt\
(a few \gev), but an alternative \intro{soft-e} algorithm can be used to recover
efficiency. This uses Inner Detector tracks as seeds, which it extrapolates into
the EM calorimeter and attempts to build clusters. It is not used in
this thesis so is not described in detail here.

\subsubsection{Standard Electron Reconstruction}

Reconstruction begins
with the construction of seed clusters in the EM calorimeter. These are formed from
calorimeter towers of size \deltaetadeltaphi{0.025}{0.025}, corresponding to the
size of cells in the second layer of the EM calorimeter. This
results in a grid of $200 \times 256$ towers. The energy
of the tower is the sum of the cells in all three layers
falling within the tower. Where cells are shared between more than one tower, the
energy is shared according the fractional overlap of the cell with each
tower. The seed cells are formed by sliding a
window of size \deltaetadeltaphi{0.075}{0.125} ($3 \times 5$ towers) over the
grid of towers and identifying local maxima with \etgt{2.5}. The position
of the cluster is taken to be the energy weighted $\eta$, $\phi$ barycentre of
cells in a window around the centre of the cluster. If two seeds are closer than
\deltaetadeltaphi{0.050}{0.050} only the one with higher \et\ is kept.

Electron candidates are then formed by matching Inner Detector tracks to the
seed clusters. If there is a reasonable agreement ($\Delta \eta <0.2$ and
$\Delta \phi <0.1$) between a track's co-ordinates (measured at the origin of the
track) and a cluster seed, the track is extrapolated from its last measurement point to
the middle layer of the EM calorimeter (TRT-only tracks are automatically
extrapolated). In $\eta$, the cluster is required to be within 
of$\Delta \eta <0.05$ of the track. In $\phi$, the cluster must be within $\Delta \phi < 0.1$ of
the track if it falls on the side towards which the track bends, or $\Delta
\phi < 0.05$ if it is on the opposite side. This asymmetry in the $\phi$
requirement is to
account for the fact that the electrons undergo heavy energy losses from
bremsstrahlung, due to the large amount of material in the Inner Detector, which
will tend to increase their bending,
particularly at high $\eta$. If a seed cluster matches to at least one track,
and electron candidate is formed. Seed clusters with no track matches are
considered as photon candidates. If several tracks match, tracks with hits with
silicon hits are preferred, and the one closest to the cluster in \deltaR\ 
is chosen. In the case of TRT-only tracks, only a matching in $\phi$ is required, 
due to the limited $\eta$ resolution in the TRT.

The clusters for electron candidates are then rebuilt, using a fixed rectangle of size 
\deltaetadeltaphi{0.075}{0.175} ($0.125 \times 0.125$) in the barrel (endcap),
again using a sliding window to find the local maximum. The cluster energy is
the sum of four components: the estimated energy deposits before the
calorimeter, the measured energy in the cluster, the estimated leakage laterally
into other calorimeter cells and the estimated longitudinal leakage behind the
EM calorimeter. The four terms are parameterised as a function of the measured
cluster energy in the pre-sampler (where it exists) and the measured energy in each of the three
calorimeter layers, based on detailed simulations of energy depositions in the
calorimeters and the dead material. At this stage additional calibrations are
applied to the electron energy based on measurements of \Zee\ and
\JPsiee~\cite{Aad:2011mk}. The energy of the electron is taken as the cluster
energy, and the direction as the track $\eta$ and $\phi$, providing the track
has sufficient silicon hits.

\subsubsection{Forward Electron Reconstruction}

Forward electrons are reconstructed from energy deposits in the calorimeter
only. \intro{Topological clusters}~\cite{Lampl:1099735} are formed by grouping neighbouring cells in three
dimensions. The topological clusters do not have a fixed size, but will depend
on the energy deposit and the clustering criteria used. Cells with a
signal versus noise significance above a high threshold $t_{\rm{seed}}$ are used as seeds.
Neighbouring cells with a signal significance above a lower threshold
$t_{\rm{cell}}$ are added to the cluster. The neighbours may act as
secondary seeds if they have signal significance above an intermediate threshold
$t_{\rm{neighbour}}$. For electron topological clusters $t_{\rm{seed}}$ is set
equal to $t_{\rm{neighbour}}$. The lower threshold at the cell perimeter ensures that
tails of showers are not discarded, while the higher thresholds for seeds and
neighbors suppress electronics and pile-up noise. The cells are split if they
contain more than one local maxima above a certain energy threshold. 

An electron candidate is constructed if the cluster has \etgt{5} and only a
small hadronic energy component. The energy
of the electron is taken as the sum of the energy of all cells belonging to the cluster,
corrected for energy loss before the calorimeter and lateral and for longitudinal
leakages. The direction of the forward electron is taken as the barycentre of the cells
belonging to the cluster.

\subsection{Improvements to electron reconstruction in 2011 and 2012}

By default the ATLAS track fitting assumes a pion hypothesis for the modelling
of material effects, as described in~\sec{tracking-std}. This does not account well for energy losses via
bremsstrahlung. Due to their small mass, these losses are most substantial for
electrons, and can have significant effects on their trajectories through the magnetic
field. The amount of material in the Inner Detector in terms of radiation lengths
$X_{0}$ is shown in~\fig{id-material}. The material budget in the Inner detector
is highly non uniform with, high concentration of material at high $\eta$ and at certain radii.
This leads to large variations of the reconstruction efficiency as a function of
$\eta$, and degradations in estimates of the track parameters. To this end the
deault ATLAS reconstruction was progressively improved in 2011 and 2012 to
better account for energy losses due to \brem\ in the Inner Detector.

\begin{figure}[h]
\centering
            \includegraphics[width=0.8\textwidth]{id_material}
\caption{
Distribution of the Inner Detector material for each sub-detector as a
function of the pseudorapidity. The material of the Pixel and SCT detectors
includes passive material arising from electronics, cabling, cooling and
mechanical support. Figure from~\cite{ATLAS-CONF-2012-047}.}
\label{fig:id-material}
\end{figure}


The radiative loss of energy via \brem\ is highly non-Gaussian, and so is not
well modelled by the standard Kalman Filter, which can only incorporate Gaussian
noise terms. A non-linear extension of the
Kalman filter, the {\it Gaussian Sum Filter (GSF)}, has been
developed~\cite{Fruhwirth2003131,Atkinson:1448253}. It
approximates the PDF for energy loss from \brem\ as a weighted sum of Gaussian
components, and uses a separate Kalman Filter to process each one. For example,
one can consider the extrapolation of a measurement from a surface $k-1$ with state
described by $n_{k-1}$ components to surface $k$, where $\epsilon_{k}$ Gaussians
are used to describe the energy losses due to \brem\ between surfaces $k-1$ and
$k$. A separate Kalman Filter is applied to each of the $n_{k-1}$
components, for each of the $\epsilon_{k}$ noise terms, resulting in the state at
surface $k$ being described by $n_{k} = n_{k-1} \cdot \epsilon_{k}$ components.
At each layer the number of components is artificially reduced to a fixed number
in order to make the computationally managable by merging similar components.
Using the GSF filter allows for better pattern recognition by picking up hits
occuring after kinks in tracks caused by \brem, as well as improving the
resolution of the track parameters.

\subsubsection{2011 Improvements}

For 2011 data taking, \brem\ `brem-refitting' was applied to
reconstructed electron candidates~\cite{ATLAS-CONF-2012-047}. For technical reasons, it was not possible to
include the \brem\ recovery from the beginning of electron reconstruction.
Instead, electrons were reconstrcuted using the standard pion hypothesis
tracking as described above. The tracks of these canidates were then refitted
using the GSF. All tracks with \ptgtMeV{400} and \modetalt{2.5} assigned to
electron candidates were refitted, the cluster-track refitting re-run
using the collection of refitted tracks, and the rest of the electron reconstruction
chain re-run using these refitted candidates. This led to the best matches between
cluster and track changing in approximatey 5\% of cases at high $\eta$ (0.8 \%
overall). However, since it was only possible to run this refitting on tracks
already associated to electron clusters using the standard tracking, the full
benefit of using GSF was not gained as many tracks with significant energy loss
from \brem\ would not be reconstracuted succesfully by the standard tracking and
thus could not be re-fitted. For this reason the brem-refitting did not
significantly improve the reconstruction effieciency, but did significantly
improve track parameters in the bending plane such as \dzero, \dzerosig,
$\phi$ and \qoverp. For example, \fig{d0Sig-gsf} shows the impact parameter
significance, \dzerosig, distribution with and without the GSF refit. 

\begin{figure}[h]
\centering
            \includegraphics[width=0.8\textwidth]{d0Sig_gsf}
\caption{
Distribution of the simulated transverse impact parameter significance for GSF (open
red) and standard (solid black) electrons from \Z-boson decays. 
%The bottom plots show the ratio of the entries of the GSF and standard
%electrons per bin
Figure from~\cite{ATLAS-CONF-2012-047}.}
\label{fig:d0Sig-gsf}
\end{figure}

\subsubsection{2012 Improvements}

In 2012 improvements were made to all stages of the electron reconstruction
chain, from the initial tracking pattern recognition through to the track
cluster matching~\cite{HSG2:1456228}. 

Since the GSF filter takes approximately 10 times more time to
run than the standard Kalman filter, it is not fesable to fit all tracks using
the GSF. Additionally, the use of such a filter with electron hypothesis would
negatively affect non-electron tracks. Instead, the effects of \brem\ for
electrons are crudely modelled at the initial pattern recognition (as described
in ~\sec{tracking-std}) by allowing for 30\% energy loss at each surface for tracks with
momentum above 1 \gev. This allowance is only made in regions of interest in a
cone of \deltaRlt{0.3} around EM calorimeter clusters. 

The global \chisquared\
fitter was also improved to allow for electron hypothesis tracks. Tracks
rejected due to low \chisquared\ at the ambiguity resolving stage in a RoI were
refitted using a modified `electron hypothesis' global \chisquared\ fitter. This
attempts to find the layer with the most significant \brem\ energy loss, then
reruns the fit with only an energy loss term for the most significant \brem\
los. The advantage of this, over the standard \chisquared\ fit which allows
includes an energy loss term for each layer, is that in the latter approach the
electron momentum tends to be overestimated as all of the energy loss terms tend
to take the average energy loss value, rather than giving one layer with large
energy loss. This approach gives a significant improvement in the track
parameter resolution, and gives an improvement almost as great as using the more
significant GSF algorithm, but runs in approximately one tenth of the time.

At this stage, there will still be a number of tracks which had large energy
losses from \brem\ and were consequentially badly fitted. A refit using the GSF
described above is thus carried out for all tracks loosely matched to an
EM calorimter cluster. Two forms are matching are carried out: a first between the
track paramaters extrapolated to the second layer of the calorimter and the
barycentre of the calorimeeter cluster, the second where the track momentum is
scaled to the cluster energy before extrapolating the track to the calorimeter.
Loose cuts are made on \deltaR (\deltaR$^{\rm{rescaled}}$) in the former
(latter) case, with the cuts on \deltaR$^{\rm{rescaled}}$ slightly tighter.
Tracks which match under either of the two secanerios are refitted; the latter
category aims to select tracks with low momentum that have suffered large
\brem\ and would otherwise be missed. The final matching of the refitted tracks
to the clusters and selection of the best match is also improved; again both the
the orginal \deltaR and the \deltaR$^{\rm{rescaled}}$ after scaling the track to the cluster
energy are computed. Tracks with Pixel detector hits are prefered. If there are
more than two tracks with Pixel hits the one with the smaller
\deltaR$^{\rm{rescaled}}$ is preffered, providing they are well enough
separated in \deltaR$^{\rm{rescaled}}$, otherwise the one with closest \deltaR.

Overall these improvements increase the electron reconstruction efficiency by
$\sim 1\%$ in the calorimeter barell and $\sim 5\%$ in the calorimeter endcaps.
For low \et\ electrons (\etlt{20}) the improvement is up to 8\%.

\subsection{Identification}
\label{sec:reco-el-id}

%The cluster reconstruction efficiency is very efficient for electrons:
